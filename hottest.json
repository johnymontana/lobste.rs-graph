[{"short_id":"6uykyh","short_id_url":"https://lobste.rs/s/6uykyh","created_at":"2023-03-24T01:03:41.000-05:00","title":"GitHub unexpectedly rotates its RSA SSH host key","url":"https://github.blog/2023-03-23-we-updated-our-rsa-ssh-host-key/","score":57,"flags":1,"comment_count":22,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/6uykyh/github_unexpectedly_rotates_its_rsa_ssh","submitter_user":{"username":"sams","created_at":"2019-11-04T16:02:13.000-06:00","is_admin":false,"about":"Gentoo developer.","is_moderator":false,"karma":174,"avatar_url":"/avatars/sams-100.png","invited_by_user":"alyx","github_username":"thesamesam"},"tags":["security","vcs"]},{"short_id":"73lmjq","short_id_url":"https://lobste.rs/s/73lmjq","created_at":"2023-03-24T10:57:53.000-05:00","title":"InjectGPT: the most polite exploit ever","url":"https://blog.luitjes.it/posts/injectgpt-most-polite-exploit-ever/","score":14,"flags":0,"comment_count":6,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/73lmjq/injectgpt_most_polite_exploit_ever","submitter_user":{"username":"eterps","created_at":"2018-06-22T06:22:21.000-05:00","is_admin":false,"about":"https://keybase.io/eterps","is_moderator":false,"karma":464,"avatar_url":"/avatars/eterps-100.png","invited_by_user":"gerikson"},"tags":["ai","security"]},{"short_id":"7prhpl","short_id_url":"https://lobste.rs/s/7prhpl","created_at":"2023-03-24T10:00:38.000-05:00","title":"What are you doing this weekend?","url":"","score":8,"flags":0,"comment_count":9,"description":"\u003cp\u003eFeel free to tell what you plan on doing this weekend and even ask for help or feedback.\u003c/p\u003e\n\u003cp\u003ePlease keep in mind it’s more than OK to do nothing at all too!\u003c/p\u003e\n","description_plain":"Feel free to tell what you plan on doing this weekend and even ask for help or feedback.\r\n\r\nPlease keep in mind it’s more than OK to do nothing at all too!","comments_url":"https://lobste.rs/s/7prhpl/what_are_you_doing_this_weekend","submitter_user":{"username":"caius","created_at":"2014-05-13T06:58:30.000-05:00","is_admin":false,"about":"Compulsive Geek, Ale Connoisseur, Occasionally Responsible Adult.","is_moderator":false,"karma":8715,"avatar_url":"/avatars/caius-100.png","invited_by_user":"lauris","github_username":"caius","twitter_username":"Caius"},"tags":["ask","programming"]},{"short_id":"9ukwie","short_id_url":"https://lobste.rs/s/9ukwie","created_at":"2023-03-24T12:06:08.000-05:00","title":"Smalltalk Type: A restoration project of the typefaces used Smalltalk-80","url":"https://moritzfuerst.net/projects/smalltalk-type","score":9,"flags":0,"comment_count":0,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/9ukwie/smalltalk_type_restoration_project","submitter_user":{"username":"lorddimwit","created_at":"2016-08-15T09:39:45.000-05:00","is_admin":false,"about":"\r\n","is_moderator":false,"karma":12958,"avatar_url":"/avatars/lorddimwit-100.png","invited_by_user":"cks","github_username":"deadpixi"},"tags":["historical"]},{"short_id":"fvnmce","short_id_url":"https://lobste.rs/s/fvnmce","created_at":"2023-03-24T02:18:05.000-05:00","title":"Must move types [Linear types proposed for Rust]","url":"https://smallcultfollowing.com/babysteps/blog/2023/03/16/must-move-types/","score":12,"flags":0,"comment_count":11,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/fvnmce/must_move_types_linear_types_proposed_for","submitter_user":{"username":"5d22b","created_at":"2022-07-28T00:02:54.000-05:00","is_admin":false,"about":"","is_moderator":false,"karma":283,"avatar_url":"/avatars/5d22b-100.png","invited_by_user":"est31"},"tags":["plt","rust"]},{"short_id":"ijpr36","short_id_url":"https://lobste.rs/s/ijpr36","created_at":"2023-03-23T06:43:02.000-05:00","title":"Fascination of AWK","url":"https://maximullaris.com/awk.html","score":49,"flags":0,"comment_count":17,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/ijpr36/fascination_awk","submitter_user":{"username":"xonix","created_at":"2021-09-21T05:23:26.000-05:00","is_admin":false,"about":"","is_moderator":false,"karma":159,"avatar_url":"/avatars/xonix-100.png","invited_by_user":"benhoyt","github_username":"xonixx"},"tags":["programming"]},{"short_id":"qbprbl","short_id_url":"https://lobste.rs/s/qbprbl","created_at":"2023-03-23T10:09:46.000-05:00","title":"How Big Should a Programming Language Be?","url":"https://tratt.net/laurie/blog/2023/how_big_should_a_programming_language_be.html","score":31,"flags":0,"comment_count":44,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/qbprbl/how_big_should_programming_language_be","submitter_user":{"username":"ltratt","created_at":"2019-08-15T07:35:48.000-05:00","is_admin":false,"about":"https://tratt.net/laurie/","is_moderator":false,"karma":573,"avatar_url":"/avatars/ltratt-100.png","invited_by_user":"edd"},"tags":["programming"]},{"short_id":"smbsd5","short_id_url":"https://lobste.rs/s/smbsd5","created_at":"2023-03-24T10:46:25.000-05:00","title":"A fork() in the road","url":"https://www.microsoft.com/en-us/research/uploads/prod/2019/04/fork-hotos19.pdf","score":5,"flags":0,"comment_count":3,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/smbsd5/fork_road","submitter_user":{"username":"fanf","created_at":"2022-05-13T07:44:03.000-05:00","is_admin":false,"about":"BIND developer at isc.org\r\n\r\nhttps://dotat.at","is_moderator":false,"karma":230,"avatar_url":"/avatars/fanf-100.png","invited_by_user":"isomer"},"tags":["osdev","pdf"]},{"short_id":"jwljsv","short_id_url":"https://lobste.rs/s/jwljsv","created_at":"2023-03-23T12:41:00.000-05:00","title":"Introducing the Framework Laptop 16 and both Intel and AMD-powered Framework Laptop 13","url":"https://frame.work/blog/introducing-the-framework-laptop-16-and-both-intel-and-amd-powered-framework-laptop-13","score":47,"flags":2,"comment_count":16,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/jwljsv/introducing_framework_laptop_16_both","submitter_user":{"username":"winter","created_at":"2021-02-09T16:40:55.000-06:00","is_admin":false,"about":"","is_moderator":false,"karma":1038,"avatar_url":"/avatars/winter-100.png","invited_by_user":"ave","github_username":"winterqt"},"tags":["hardware"]},{"short_id":"rgze3o","short_id_url":"https://lobste.rs/s/rgze3o","created_at":"2023-03-24T04:07:16.000-05:00","title":"SparseGPT: Remove 100B Parameters For Free","url":"https://neuralmagic.com/blog/sparsegpt-remove-100-billion-parameters-for-free/","score":7,"flags":0,"comment_count":5,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/rgze3o/sparsegpt_remove_100b_parameters_for","submitter_user":{"username":"river","created_at":"2016-04-03T11:33:05.000-05:00","is_admin":false,"about":"(Deleted account)","is_moderator":false,"karma":5378,"avatar_url":"/avatars/river-100.png","invited_by_user":"355E3B"},"tags":["ai"]},{"short_id":"y26lwz","short_id_url":"https://lobste.rs/s/y26lwz","created_at":"2023-03-24T14:01:18.000-05:00","title":"Library patterns: Why frameworks are evil (2015)","url":"https://tomasp.net/blog/2015/library-frameworks/","score":2,"flags":0,"comment_count":2,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/y26lwz/library_patterns_why_frameworks_are_evil","submitter_user":{"username":"vfoley","created_at":"2014-05-27T20:08:21.000-05:00","is_admin":false,"about":"","is_moderator":false,"karma":2775,"avatar_url":"/avatars/vfoley-100.png","invited_by_user":"Boojum"},"tags":["practices","programming"]},{"short_id":"mtkplt","short_id_url":"https://lobste.rs/s/mtkplt","created_at":"2023-03-23T23:15:27.000-05:00","title":"$30 Lenovo N42 Chromebook converted into a full fledged Nix/OS machine","url":"https://twitter.com/mikecodemonkey/status/1638635840355311616","score":12,"flags":1,"comment_count":7,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/mtkplt/30_lenovo_n42_chromebook_converted_into","submitter_user":{"username":"nixinator","created_at":"2023-03-11T01:00:45.000-06:00","is_admin":false,"about":"2038","is_moderator":false,"karma":25,"avatar_url":"/avatars/nixinator-100.png","invited_by_user":"kylerisse"},"tags":["hardware","nix"]},{"short_id":"lrc1du","short_id_url":"https://lobste.rs/s/lrc1du","created_at":"2023-03-24T15:22:23.000-05:00","title":"The Evolution of LeanStore","url":"https://dl.gi.de/bitstream/handle/20.500.12116/40317/B3-2.pdf?sequence=1\u0026isAllowed=y","score":3,"flags":0,"comment_count":0,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/lrc1du/evolution_leanstore","submitter_user":{"username":"eatonphil","created_at":"2019-09-01T20:23:02.000-05:00","is_admin":false,"about":"eatonphil.com","is_moderator":false,"karma":4703,"avatar_url":"/avatars/eatonphil-100.png","invited_by_user":"calvin","github_username":"eatonphil","twitter_username":"eatonphil"},"tags":["databases"]},{"short_id":"zy5a6e","short_id_url":"https://lobste.rs/s/zy5a6e","created_at":"2023-03-24T14:18:09.000-05:00","title":"webpage-sampler: chrome extension to sample audio from web page into wav file","url":"https://github.com/chaosprint/webpage-sampler","score":1,"flags":0,"comment_count":0,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/zy5a6e/webpage_sampler_chrome_extension_sample","submitter_user":{"username":"chaosprint","created_at":"2022-06-09T14:52:34.000-05:00","is_admin":false,"about":"","is_moderator":false,"karma":24,"avatar_url":"/avatars/chaosprint-100.png","invited_by_user":"df"},"tags":["art","audio","web"]},{"short_id":"4fkxpq","short_id_url":"https://lobste.rs/s/4fkxpq","created_at":"2023-03-24T15:53:19.000-05:00","title":"We need better support for SSH host certificates","url":"https://mjg59.dreamwidth.org/65874.html","score":1,"flags":0,"comment_count":2,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/4fkxpq/we_need_better_support_for_ssh_host","submitter_user":{"username":"calvin","created_at":"2014-07-01T06:47:13.000-05:00","is_admin":false,"about":"Soon we will all have special names... names designed to make the cathode ray tube resonate.\r\n\r\nDavid Chisnall stan account.","is_moderator":false,"karma":96274,"avatar_url":"/avatars/calvin-100.png","invited_by_user":"nbyouri","github_username":"NattyNarwhal"},"tags":["security"]},{"short_id":"8kng64","short_id_url":"https://lobste.rs/s/8kng64","created_at":"2023-03-23T13:10:20.000-05:00","title":"Speeding up text processing in Python (is hard)","url":"https://pythonspeed.com/articles/faster-text-processing/","score":15,"flags":0,"comment_count":4,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/8kng64/speeding_up_text_processing_python_is","submitter_user":{"username":"itamarst","created_at":"2016-04-28T10:05:47.000-05:00","is_admin":false,"about":"Writing about Python performance and faster development at https://pythonspeed.com, as well as offering consulting services. Writing about work/life balance and other software engineering skills at https://codewithoutrules.com.\r\n","is_moderator":false,"karma":5222,"avatar_url":"/avatars/itamarst-100.png","invited_by_user":"0x2ba22e11"},"tags":["performance","python"]},{"short_id":"my0cm9","short_id_url":"https://lobste.rs/s/my0cm9","created_at":"2023-03-24T16:43:44.000-05:00","title":"Internet of Skull","url":"https://mle-online.com/projects/internet_skull/index.html","score":1,"flags":0,"comment_count":0,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/my0cm9/internet_skull","submitter_user":{"username":"fcbsd","created_at":"2014-01-15T14:55:15.000-06:00","is_admin":false,"about":"**Fred Crowson**\r\n\r\n*BSD user, sys admin, BMX \u0026 MTB Coach*\r\n\r\nRunning on an [OpenBSD](https://www.openbsd.org/) Desktop since 2001 :~)\r\n","is_moderator":false,"karma":5089,"avatar_url":"/avatars/fcbsd-100.png","invited_by_user":"jm"},"tags":["art","hardware"]},{"short_id":"apintw","short_id_url":"https://lobste.rs/s/apintw","created_at":"2023-03-24T16:43:02.000-05:00","title":"We're no longer sunsetting the Free Team plan","url":"https://www.docker.com/blog/no-longer-sunsetting-the-free-team-plan/","score":1,"flags":0,"comment_count":0,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/apintw/we_re_no_longer_sunsetting_free_team_plan","submitter_user":{"username":"waves","created_at":"2022-03-23T20:53:05.000-05:00","is_admin":false,"about":"","is_moderator":false,"karma":0,"avatar_url":"/avatars/waves-100.png","invited_by_user":"jpo"},"tags":["devops"]},{"short_id":"0fnu7b","short_id_url":"https://lobste.rs/s/0fnu7b","created_at":"2023-03-24T07:18:53.000-05:00","title":"Building containers with Nix and Gitlab CI","url":"https://scvalex.net/posts/68/","score":4,"flags":0,"comment_count":0,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/0fnu7b/building_containers_with_nix_gitlab_ci","submitter_user":{"username":"knl","created_at":"2017-07-21T07:12:24.000-05:00","is_admin":false,"about":"Senior software engineer specialized in distributed systems and low latency, high frequency trading infrastructure.","is_moderator":false,"karma":6357,"avatar_url":"/avatars/knl-100.png","invited_by_user":"james","github_username":"knl","keybase_signatures":[{"kb_username":"knl","sig_hash":"cb1fe17fead6d360f9abca902132b2407ee736f1a243f615ad9757dfe8d17e3b0f"}]},"tags":["nix"]},{"short_id":"cvkobc","short_id_url":"https://lobste.rs/s/cvkobc","created_at":"2023-03-23T11:25:32.000-05:00","title":"Framework Next Level Event | 2023 Launch Event","url":"https://www.youtube.com/watch?v=ccpsyRipHlk","score":19,"flags":2,"comment_count":8,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/cvkobc/framework_next_level_event_2023_launch","submitter_user":{"username":"JulianWgs","created_at":"2020-09-24T14:54:13.000-05:00","is_admin":false,"about":"","is_moderator":false,"karma":1085,"avatar_url":"/avatars/JulianWgs-100.png","invited_by_user":"355E3B","github_username":"JulianWgs"},"tags":["hardware","video"]},{"short_id":"lkwafd","short_id_url":"https://lobste.rs/s/lkwafd","created_at":"2023-03-23T15:03:08.000-05:00","title":"bisect","url":"https://gitlab.com/engmark/bisect","score":14,"flags":0,"comment_count":0,"description":"\u003cp\u003eFind the first line in the input file which causes the given command to fail.\nThis assumes that there is a single \u003cem\u003einsertion point,\u003c/em\u003e where running the command\nwith any line before the insertion point will \u003cem\u003esucceed,\u003c/em\u003e and running with the\ninsertion point line or any subsequent line causes it to \u003cem\u003efail.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eThis is a general tool similar to \u003ccode\u003egit bisect\u003c/code\u003e, a Git built-in which can be used\nto determine which commit introduced a bug.\u003c/p\u003e\n\u003cp\u003eSince \u003ccode\u003ebisect.bash\u003c/code\u003e runs a binary search it should finish looking for the\noffending line in at most log_2(N)+2 tries (see tests).\u003c/p\u003e\n\u003cstrong\u003eSynopsis\u003c/strong\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e./bisect.bash COMMAND FILE\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003eCOMMAND\u003c/code\u003e should reference a variable called \u003ccode\u003eENTRY\u003c/code\u003e, referring to the piece of\nthe input currently being processed.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eFILE\u003c/code\u003e should be the path to a normal file with entries, each terminated by a\nnewline character.\u003c/p\u003e\n\u003cstrong\u003eExamples\u003c/strong\u003e\n\u003cp\u003ePrints the insertion point, if there is one:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ printf '%s\\n' 0 1 2 \u0026gt; input.txt\n$ ./bisect.bash '(( \"$ENTRY\" == 0 ))' input.txt\n1\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFails if there is no insertion point:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ printf '%s\\n' 0 1 2 \u0026gt; input.txt\n$ ./bisect.bash '(( \"$ENTRY\" \u0026lt; 5 ))' input.txt\nNo insertion point found.\n$ echo $?\n3\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eEnable debug mode with \u003ccode\u003eDEBUG=1\u003c/code\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ printf '%s\\n' 0 1 2 \u0026gt; input.txt\n$ DEBUG=1 ./bisect.bash '(( \"$ENTRY\" == 0 ))' input.txt \u0026gt;/dev/null\nRemaining entry count: 3.\nRemaining entry count: 2.\nRemaining entry count: 1.\nNumber of entries checked: 3.\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eEnable trace mode with \u003ccode\u003eDEBUG=2\u003c/code\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003e$ printf '%s\\n' 0 1 2 \u0026gt; input.txt\n$ DEBUG=2 ./bisect.bash '(( \"$ENTRY\" == 0 ))' input.txt \u0026gt;/dev/null\nRemaining entry count: 3.\nFirst split file entry count: 2.\nSecond split file entry count: 1.\nChecking entry: “1”.\nCommand failed.\nRemaining entry count: 2.\nFirst split file entry count: 1.\nSecond split file entry count: 1.\nChecking entry: “0”.\nCommand successful.\nRemaining entry count: 1.\nFirst split file entry count: 1.\nChecking entry: “1”.\nCommand failed.\nNumber of entries checked: 3.\n\u003c/code\u003e\u003c/pre\u003e\n\u003cstrong\u003eAdvanced use\u003c/strong\u003e\n\u003cp\u003eConsider a situation where you have a reference to a commit in another\nrepository, and you want to bump that commit to the latest version of the\nupstream repository. But \u003ccode\u003eHEAD\u003c/code\u003e of the upstream repository breaks your build, so\nyou have to figure out which commit in \u003cem\u003ethe other repository\u003c/em\u003e broke things for\n\u003cem\u003eyour\u003c/em\u003e repository.\u003c/p\u003e\n\u003cp\u003eFirst, get a list of the commits from the current working one to a known bad one\n(typically \u003ccode\u003eHEAD\u003c/code\u003e of the default branch). For example, if the bad commit was ID\n\u003ccode\u003eabc123\u003c/code\u003e according to the Git log, you could run\n\u003ccode\u003egit log --format=%H --reverse abc123.. \u0026gt; commits.txt\u003c/code\u003e in the upstream repo to\nget a file with the relevant commit IDs.\u003c/p\u003e\n\u003cp\u003eThen you need to figure out a test command, like\n\u003ccode\u003enix-build --attr foo tests/default.nix\u003c/code\u003e, \u003ccode\u003enpm test\u003c/code\u003e,\n\u003ccode\u003epytest test_foo.py::test_name\u003c/code\u003e, or something else entirely. If this command is\nfast, all the better, since it’ll run up to log_2(N)+2 times to check through\n$N$ commits.\u003c/p\u003e\n\u003cp\u003eAt this point you can run \u003ccode\u003e/path/to/bisect.bash COMMAND /path/to/commits.txt\u003c/code\u003e to\nfind the first offending commit.\u003c/p\u003e\n\u003cp\u003eAs a concrete example of this, I wrote \u003ccode\u003ebisect.bash\u003c/code\u003e to bump nixpkgs in\npoetry2nix, since \u003ccode\u003eHEAD\u003c/code\u003e of nixpkgs \u003ccode\u003emaster\u003c/code\u003e was breaking the \u003ccode\u003enixops\u003c/code\u003e package\nbuild. To figure out which commit broke things, starting from the \u003ccode\u003eHEAD\u003c/code\u003e of the\ndefault branch in all the repos:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-console\"\u003e$ cd /path/to/poetry2nix\n$ good=\"$(jq --raw-output .nixpkgs.rev nix/sources.json)\"\n$ cd /path/to/nixpkgs\n$ git log --format=%H --reverse \"$good\".. \u0026gt; commits.txt\n$ cd -\n$ /path/to/bisect/bisect.bash 'niv update --rev=\"$ENTRY\" nixpkgs \u0026amp;\u0026amp; nix-build --attr nixops tests/default.nix' /path/to/nixpkgs/commits.txt\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAfter building 15 out of the 32,683 commits in that range, the command finished\nsuccessfully, determining that commit ceab3fb5f4ae430845e93c457b5353dc8b019e2b\nof nixpkgs broke the nixops build in poetry2nix.\u003c/p\u003e\n","description_plain":"Find the first line in the input file which causes the given command to fail.\r\nThis assumes that there is a single _insertion point,_ where running the command\r\nwith any line before the insertion point will _succeed,_ and running with the\r\ninsertion point line or any subsequent line causes it to _fail._\r\n\r\nThis is a general tool similar to `git bisect`, a Git built-in which can be used\r\nto determine which commit introduced a bug.\r\n\r\nSince `bisect.bash` runs a binary search it should finish looking for the\r\noffending line in at most log_2(N)+2 tries (see tests).\r\n\r\n## Synopsis\r\n\r\n```bash\r\n./bisect.bash COMMAND FILE\r\n```\r\n\r\n`COMMAND` should reference a variable called `ENTRY`, referring to the piece of\r\nthe input currently being processed.\r\n\r\n`FILE` should be the path to a normal file with entries, each terminated by a\r\nnewline character.\r\n\r\n## Examples\r\n\r\nPrints the insertion point, if there is one:\r\n\r\n```bash\r\n$ printf '%s\\n' 0 1 2 \u003e input.txt\r\n$ ./bisect.bash '(( \"$ENTRY\" == 0 ))' input.txt\r\n1\r\n```\r\n\r\nFails if there is no insertion point:\r\n\r\n```bash\r\n$ printf '%s\\n' 0 1 2 \u003e input.txt\r\n$ ./bisect.bash '(( \"$ENTRY\" \u003c 5 ))' input.txt\r\nNo insertion point found.\r\n$ echo $?\r\n3\r\n```\r\n\r\nEnable debug mode with `DEBUG=1`:\r\n\r\n```bash\r\n$ printf '%s\\n' 0 1 2 \u003e input.txt\r\n$ DEBUG=1 ./bisect.bash '(( \"$ENTRY\" == 0 ))' input.txt \u003e/dev/null\r\nRemaining entry count: 3.\r\nRemaining entry count: 2.\r\nRemaining entry count: 1.\r\nNumber of entries checked: 3.\r\n```\r\n\r\nEnable trace mode with `DEBUG=2`:\r\n\r\n```bash\r\n$ printf '%s\\n' 0 1 2 \u003e input.txt\r\n$ DEBUG=2 ./bisect.bash '(( \"$ENTRY\" == 0 ))' input.txt \u003e/dev/null\r\nRemaining entry count: 3.\r\nFirst split file entry count: 2.\r\nSecond split file entry count: 1.\r\nChecking entry: “1”.\r\nCommand failed.\r\nRemaining entry count: 2.\r\nFirst split file entry count: 1.\r\nSecond split file entry count: 1.\r\nChecking entry: “0”.\r\nCommand successful.\r\nRemaining entry count: 1.\r\nFirst split file entry count: 1.\r\nChecking entry: “1”.\r\nCommand failed.\r\nNumber of entries checked: 3.\r\n```\r\n\r\n## Advanced use\r\n\r\nConsider a situation where you have a reference to a commit in another\r\nrepository, and you want to bump that commit to the latest version of the\r\nupstream repository. But `HEAD` of the upstream repository breaks your build, so\r\nyou have to figure out which commit in _the other repository_ broke things for\r\n_your_ repository.\r\n\r\nFirst, get a list of the commits from the current working one to a known bad one\r\n(typically `HEAD` of the default branch). For example, if the bad commit was ID\r\n`abc123` according to the Git log, you could run\r\n`git log --format=%H --reverse abc123.. \u003e commits.txt` in the upstream repo to\r\nget a file with the relevant commit IDs.\r\n\r\nThen you need to figure out a test command, like\r\n`nix-build --attr foo tests/default.nix`, `npm test`,\r\n`pytest test_foo.py::test_name`, or something else entirely. If this command is\r\nfast, all the better, since it'll run up to log_2(N)+2 times to check through\r\n$N$ commits.\r\n\r\nAt this point you can run `/path/to/bisect.bash COMMAND /path/to/commits.txt` to\r\nfind the first offending commit.\r\n\r\nAs a concrete example of this, I wrote `bisect.bash` to bump nixpkgs in\r\npoetry2nix, since `HEAD` of nixpkgs `master` was breaking the `nixops` package\r\nbuild. To figure out which commit broke things, starting from the `HEAD` of the\r\ndefault branch in all the repos:\r\n\r\n```console\r\n$ cd /path/to/poetry2nix\r\n$ good=\"$(jq --raw-output .nixpkgs.rev nix/sources.json)\"\r\n$ cd /path/to/nixpkgs\r\n$ git log --format=%H --reverse \"$good\".. \u003e commits.txt\r\n$ cd -\r\n$ /path/to/bisect/bisect.bash 'niv update --rev=\"$ENTRY\" nixpkgs \u0026\u0026 nix-build --attr nixops tests/default.nix' /path/to/nixpkgs/commits.txt\r\n```\r\n\r\nAfter building 15 out of the 32,683 commits in that range, the command finished\r\nsuccessfully, determining that commit ceab3fb5f4ae430845e93c457b5353dc8b019e2b\r\nof nixpkgs broke the nixops build in poetry2nix.","comments_url":"https://lobste.rs/s/lkwafd/bisect","submitter_user":{"username":"l0b0","created_at":"2022-02-14T02:54:31.000-06:00","is_admin":false,"about":"Open source developer.","is_moderator":false,"karma":762,"avatar_url":"/avatars/l0b0-100.png","invited_by_user":"gerikson","github_username":"l0b0"},"tags":["linux","programming","show"]},{"short_id":"q1hzen","short_id_url":"https://lobste.rs/s/q1hzen","created_at":"2023-03-24T03:19:15.000-05:00","title":"Implementing multi-file analysis for linters","url":"https://jfmengels.net/multi-file-analysis/","score":3,"flags":0,"comment_count":0,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/q1hzen/implementing_multi_file_analysis_for","submitter_user":{"username":"jfmengels","created_at":"2020-10-03T11:24:25.000-05:00","is_admin":false,"about":"I'm into functional programming and mostly the Elm language. I'm the author of elm-review — a static analysis tool for Elm — and the co-host of the Elm Radio podcast.","is_moderator":false,"karma":223,"avatar_url":"/avatars/jfmengels-100.png","invited_by_user":"wolfadex"},"tags":["elm"]},{"short_id":"pdqmcq","short_id_url":"https://lobste.rs/s/pdqmcq","created_at":"2023-03-23T08:30:53.000-05:00","title":"Cheating is All You Need","url":"https://about.sourcegraph.com/blog/cheating-is-all-you-need","score":23,"flags":2,"comment_count":50,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/pdqmcq/cheating_is_all_you_need","submitter_user":{"username":"mrfabbri","created_at":"2014-05-05T02:58:17.000-05:00","is_admin":false,"about":"rather tough, rather nerd. festina lente.","is_moderator":false,"karma":280,"avatar_url":"/avatars/mrfabbri-100.png","invited_by_user":"kev009"},"tags":["ai"]},{"short_id":"y2wxll","short_id_url":"https://lobste.rs/s/y2wxll","created_at":"2023-03-24T00:07:11.000-05:00","title":"How to speed up the Rust compiler in March 2023","url":"https://nnethercote.github.io/2023/03/24/how-to-speed-up-the-rust-compiler-in-march-2023.html","score":8,"flags":0,"comment_count":0,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/y2wxll/how_speed_up_rust_compiler_march_2023","submitter_user":{"username":"calvin","created_at":"2014-07-01T06:47:13.000-05:00","is_admin":false,"about":"Soon we will all have special names... names designed to make the cathode ray tube resonate.\r\n\r\nDavid Chisnall stan account.","is_moderator":false,"karma":96274,"avatar_url":"/avatars/calvin-100.png","invited_by_user":"nbyouri","github_username":"NattyNarwhal"},"tags":["rust"]},{"short_id":"8xc7gs","short_id_url":"https://lobste.rs/s/8xc7gs","created_at":"2023-03-24T10:01:57.000-05:00","title":"Compositional Deep Learning in Futhark","url":"https://elsman.com/pdf/fhpnc19.pdf","score":2,"flags":0,"comment_count":0,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/8xc7gs/compositional_deep_learning_futhark","submitter_user":{"username":"calvin","created_at":"2014-07-01T06:47:13.000-05:00","is_admin":false,"about":"Soon we will all have special names... names designed to make the cathode ray tube resonate.\r\n\r\nDavid Chisnall stan account.","is_moderator":false,"karma":96274,"avatar_url":"/avatars/calvin-100.png","invited_by_user":"nbyouri","github_username":"NattyNarwhal"},"tags":["ai","pdf","plt"]}]