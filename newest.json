[{"short_id":"76rgnf","short_id_url":"https://lobste.rs/s/76rgnf","created_at":"2022-05-29T17:15:53.000-05:00","title":"Major Version Numbers are Not Sacred","url":"https://tom.preston-werner.com/2022/05/23/major-version-numbers-are-not-sacred.html","score":2,"flags":0,"comment_count":3,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/76rgnf/major_version_numbers_are_not_sacred","submitter_user":{"username":"roryokane","created_at":"2012-08-29T23:17:11.000-05:00","is_admin":false,"about":"website: https://roryokane.com/\r\n\r\nemail: ‚Äúrory‚Äù + ‚Äú@‚Äù + ‚Äúroryokane.com‚Äù","is_moderator":false,"karma":1517,"avatar_url":"/avatars/roryokane-100.png","invited_by_user":"Cody"},"tags":["practices"]},{"short_id":"3qvgrm","short_id_url":"https://lobste.rs/s/3qvgrm","created_at":"2022-05-29T16:59:23.000-05:00","title":"State is hard: why SPAs will persist","url":"https://nolanlawson.com/2022/05/29/state-is-hard-why-spas-will-persist/","score":1,"flags":0,"comment_count":0,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/3qvgrm/state_is_hard_why_spas_will_persist","submitter_user":{"username":"carlmjohnson","created_at":"2021-07-19T11:55:18.000-05:00","is_admin":false,"about":"Carl M. Johnson is a philosopher and programmer, currently employed as the Director of Technology for Spotlight PA.","is_moderator":false,"karma":3703,"avatar_url":"/avatars/carlmjohnson-100.png","invited_by_user":"peterbourgon","github_username":"carlmjohnson","twitter_username":"carlmjohnson"},"tags":["web"]},{"short_id":"clzmzw","short_id_url":"https://lobste.rs/s/clzmzw","created_at":"2022-05-29T12:56:27.000-05:00","title":"Simplifying loading config files in python using dataclasses, dacite and toml","url":"https://gitlab.com/-/snippets/2335713","score":3,"flags":0,"comment_count":1,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/clzmzw/simplifying_loading_config_files_python","submitter_user":{"username":"youRFate","created_at":"2019-08-26T03:21:28.000-05:00","is_admin":false,"about":"","is_moderator":false,"karma":81,"avatar_url":"/avatars/youRFate-100.png","invited_by_user":"gerikson"},"tags":["python"]},{"short_id":"km9vkl","short_id_url":"https://lobste.rs/s/km9vkl","created_at":"2022-05-29T12:54:46.000-05:00","title":"climod: Modular generated command line interfaces using the same technology as the NixOS module system","url":"https://github.com/nixosbrasil/climod","score":1,"flags":0,"comment_count":0,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/km9vkl/climod_modular_generated_command_line","submitter_user":{"username":"lucasew","created_at":"2022-04-17T18:47:51.000-05:00","is_admin":false,"about":"Github: github.com/lucasew\r\n","is_moderator":false,"karma":3,"avatar_url":"/avatars/lucasew-100.png","invited_by_user":"macabeus","github_username":"lucasew"},"tags":["linux","nix"]},{"short_id":"afor7y","short_id_url":"https://lobste.rs/s/afor7y","created_at":"2022-05-29T12:29:57.000-05:00","title":"Installing pfSense 2.6 on ZimaBoard","url":"https://www.martinrowan.co.uk/2022/05/installing-pfsense-2-6-on-zimaboard/","score":1,"flags":0,"comment_count":0,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/afor7y/installing_pfsense_2_6_on_zimaboard","submitter_user":{"username":"raymii","created_at":"2013-11-20T11:58:43.000-06:00","is_admin":false,"about":"üêã\r\nhttps://raymii.org","is_moderator":false,"karma":16249,"avatar_url":"/avatars/raymii-100.png","invited_by_user":"journeysquid"},"tags":["hardware","networking"]},{"short_id":"v18rge","short_id_url":"https://lobste.rs/s/v18rge","created_at":"2022-05-29T11:08:20.000-05:00","title":"A decade of dotfiles","url":"https://evanhahn.com/a-decade-of-dotfiles/","score":14,"flags":0,"comment_count":9,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/v18rge/decade_dotfiles","submitter_user":{"username":"EvanHahn","created_at":"2017-05-31T11:36:52.000-05:00","is_admin":false,"about":"","is_moderator":false,"karma":125,"avatar_url":"/avatars/EvanHahn-100.png","invited_by_user":"don"},"tags":["unix"]},{"short_id":"cmtdng","short_id_url":"https://lobste.rs/s/cmtdng","created_at":"2022-05-29T10:09:23.000-05:00","title":"Mini-review: The Clockwork Pi DevTerm R-01, or RISC-V on the go","url":"https://www.talospace.com/2022/05/mini-review-clockwork-pi-devterm-r-01.html","score":10,"flags":0,"comment_count":0,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/cmtdng/mini_review_clockwork_pi_devterm_r_01_risc","submitter_user":{"username":"classichasclass","created_at":"2018-11-05T18:45:47.000-06:00","is_admin":false,"about":"no you're off topic","is_moderator":false,"karma":2060,"avatar_url":"/avatars/classichasclass-100.png","invited_by_user":"sevan"},"tags":["hardware"]},{"short_id":"wvzg3k","short_id_url":"https://lobste.rs/s/wvzg3k","created_at":"2022-05-29T08:25:25.000-05:00","title":"Builder Lite","url":"https://matklad.github.io//2022/05/29/builder-lite.html","score":6,"flags":0,"comment_count":3,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/wvzg3k/builder_lite","submitter_user":{"username":"carlmjohnson","created_at":"2021-07-19T11:55:18.000-05:00","is_admin":false,"about":"Carl M. Johnson is a philosopher and programmer, currently employed as the Director of Technology for Spotlight PA.","is_moderator":false,"karma":3703,"avatar_url":"/avatars/carlmjohnson-100.png","invited_by_user":"peterbourgon","github_username":"carlmjohnson","twitter_username":"carlmjohnson"},"tags":["rust"]},{"short_id":"dbjiaj","short_id_url":"https://lobste.rs/s/dbjiaj","created_at":"2022-05-29T08:14:32.000-05:00","title":"marginalia.nu goes open source","url":"https://memex.marginalia.nu/log/58-marginalia-open-source.gmi","score":21,"flags":0,"comment_count":7,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/dbjiaj/marginalia_nu_goes_open_source","submitter_user":{"username":"fgaz","created_at":"2017-09-04T09:29:11.000-05:00","is_admin":false,"about":"http://fgaz.me\r\n\r\nCS student at chalmers.se | Haskeller","is_moderator":false,"karma":133,"avatar_url":"/avatars/fgaz-100.png","invited_by_user":"singpolyma","github_username":"fgaz","keybase_signatures":[{"kb_username":"fgaz","sig_hash":"fe3046e92bf8a7532c6cb483da0ce1534796fd0585e1cfd5a6fc8c8df7a178340f"}]},"tags":["release","web"]},{"short_id":"xxame0","short_id_url":"https://lobste.rs/s/xxame0","created_at":"2022-05-29T03:26:13.000-05:00","title":"Why I wrote my own rsync","url":"https://www.youtube.com/watch?v=wpwObdgemoE","score":10,"flags":0,"comment_count":2,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/xxame0/why_i_wrote_my_own_rsync","submitter_user":{"username":"mayli","created_at":"2019-01-22T15:52:08.000-06:00","is_admin":false,"about":"https://github.com/mayli","is_moderator":false,"karma":266,"avatar_url":"/avatars/mayli-100.png","invited_by_user":"ngoldbaum"},"tags":["linux","video"]},{"short_id":"75w1uj","short_id_url":"https://lobste.rs/s/75w1uj","created_at":"2022-05-29T03:19:49.000-05:00","title":"Time Machine like Backups on OpenBSD","url":"https://xosc.org/timemachine.html","score":8,"flags":0,"comment_count":1,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/75w1uj/time_machine_like_backups_on_openbsd","submitter_user":{"username":"PengouinBSD","created_at":"2021-07-21T13:55:53.000-05:00","is_admin":false,"about":"Hi. I'm:\r\n\r\n- Ex-Admin of the French Community \"OpenBSD Pour Tous\": openbsd.fr.eu.org \r\n- Ex-Admin of the French Community Debian: debian-fr.org\r\n\r\n- My personal website: https://huc.fr.eu.org/en/\r\n- My IT Documentation: https://doc.huc.fr.eu.org/en/\r\n\r\n----\r\n\r\nEnjoy-IT!\r\nEnjoy-ID!\r\n","is_moderator":false,"karma":229,"avatar_url":"/avatars/PengouinBSD-100.png","invited_by_user":"jcs"},"tags":["openbsd"]},{"short_id":"ihqppd","short_id_url":"https://lobste.rs/s/ihqppd","created_at":"2022-05-28T23:10:37.000-05:00","title":"A tool to render and upscale Sierra adventure game background images","url":"https://github.com/eviltrout/agi-upscale","score":7,"flags":0,"comment_count":2,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/ihqppd/tool_render_upscale_sierra_adventure","submitter_user":{"username":"lorddimwit","created_at":"2016-08-15T09:39:45.000-05:00","is_admin":false,"about":"\r\n","is_moderator":false,"karma":12027,"avatar_url":"/avatars/lorddimwit-100.png","invited_by_user":"cks","github_username":"deadpixi"},"tags":["art","games","graphics"]},{"short_id":"e6u4zi","short_id_url":"https://lobste.rs/s/e6u4zi","created_at":"2022-05-28T22:31:01.000-05:00","title":"A Garbage-Collected Heap in C++, Shaped Like Typed Python","url":"https://www.oilshell.org/blog/2022/05/gc-heap.html","score":3,"flags":0,"comment_count":4,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/e6u4zi/garbage_collected_heap_c_shaped_like","submitter_user":{"username":"andyc","created_at":"2016-11-29T12:37:37.000-06:00","is_admin":false,"about":"Working on http://www.oilshell.org/\r\n","is_moderator":false,"karma":7427,"avatar_url":"/avatars/andyc-100.png","invited_by_user":"flyingfisch"},"tags":["c++","programming","python"]},{"short_id":"hu2xve","short_id_url":"https://lobste.rs/s/hu2xve","created_at":"2022-05-28T19:42:18.000-05:00","title":"Debugging a mysterious Python crash","url":"https://blog.dend.ro/a-mysterous-python-crash/","score":2,"flags":0,"comment_count":0,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/hu2xve/debugging_mysterious_python_crash","submitter_user":{"username":"calvin","created_at":"2014-07-01T06:47:13.000-05:00","is_admin":false,"about":"Soon we will all have special names... names designed to make the cathode ray tube resonate.\r\n\r\nDavid Chisnall stan account.","is_moderator":false,"karma":91552,"avatar_url":"/avatars/calvin-100.png","invited_by_user":"nbyouri","github_username":"NattyNarwhal"},"tags":["assembly","debugging"]},{"short_id":"8gx4aw","short_id_url":"https://lobste.rs/s/8gx4aw","created_at":"2022-05-28T17:34:35.000-05:00","title":"ssenv: Unset all known api token environment variables","url":"https://github.com/abbbi/ssenv","score":1,"flags":2,"comment_count":9,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/8gx4aw/ssenv_unset_all_known_api_token","submitter_user":{"username":"abi","created_at":"2019-10-01T13:50:36.000-05:00","is_admin":false,"about":"","is_moderator":false,"karma":149,"avatar_url":"/avatars/abi-100.png","invited_by_user":"JordiGH"},"tags":["security"]},{"short_id":"0f9k1y","short_id_url":"https://lobste.rs/s/0f9k1y","created_at":"2022-05-28T17:04:47.000-05:00","title":"Text-Mode Games as First Haskell Projects","url":"http://jackkelly.name/blog/archives/2022/05/28/text-mode_games_as_first_haskell_projects","score":20,"flags":0,"comment_count":2,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/0f9k1y/text_mode_games_as_first_haskell_projects","submitter_user":{"username":"jackdk","created_at":"2020-01-10T06:51:55.000-06:00","is_admin":false,"about":"https://jackkelly.name","is_moderator":false,"karma":1408,"avatar_url":"/avatars/jackdk-100.png","invited_by_user":"wezm"},"tags":["haskell"]},{"short_id":"kidyun","short_id_url":"https://lobste.rs/s/kidyun","created_at":"2022-05-28T16:07:22.000-05:00","title":"Using a Windows Mobile 2003 PDA (HP iPAQ h4350) in 2022, including WhatsApp","url":"https://raymii.org/s/blog/Using_a_Windows_Mobile_2003_PDA_hp_ipaq_in_2022_including_whatsapp.html","score":10,"flags":0,"comment_count":1,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/kidyun/using_windows_mobile_2003_pda_hp_ipaq","submitter_user":{"username":"raymii","created_at":"2013-11-20T11:58:43.000-06:00","is_admin":false,"about":"üêã\r\nhttps://raymii.org","is_moderator":false,"karma":16249,"avatar_url":"/avatars/raymii-100.png","invited_by_user":"journeysquid"},"tags":["historical","mobile"]},{"short_id":"zenhqg","short_id_url":"https://lobste.rs/s/zenhqg","created_at":"2022-05-28T12:19:03.000-05:00","title":"LIMITS 2022 - Workshop on Computing within Limits","url":"https://computingwithinlimits.org/2022/","score":4,"flags":0,"comment_count":0,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/zenhqg/limits_2022_workshop_on_computing_within","submitter_user":{"username":"neauoire","created_at":"2018-12-31T17:43:59.000-06:00","is_admin":false,"about":"Developer living aboard a sailboat on the coast of Japan.","is_moderator":false,"karma":132,"avatar_url":"/avatars/neauoire-100.png","invited_by_user":"nikivi","github_username":"neauoire","twitter_username":"neauoire"},"tags":["performance"]},{"short_id":"furdvb","short_id_url":"https://lobste.rs/s/furdvb","created_at":"2022-05-28T10:46:56.000-05:00","title":"Time Series and FoundationDB. Millions of writes/s and 10x compression in under 2,000 lines of Go","url":"https://github.com/richardartoul/tsdb-layer","score":13,"flags":0,"comment_count":1,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/furdvb/time_series_foundationdb_millions","submitter_user":{"username":"Pentlander","created_at":"2020-10-11T13:43:53.000-05:00","is_admin":false,"about":"Ex-AWS software developer. Interested in the JVM, Rust, distributed systems, and build systems.\r\n","is_moderator":false,"karma":321,"avatar_url":"/avatars/Pentlander-100.png","invited_by_user":"qznc"},"tags":["databases"]},{"short_id":"ba02rh","short_id_url":"https://lobste.rs/s/ba02rh","created_at":"2022-05-28T10:38:11.000-05:00","title":"The Third Manifesto - a proposed foundation for future database systems","url":"https://www.dcs.warwick.ac.uk/~hugh/TTM/","score":8,"flags":0,"comment_count":3,"description":"\u003cp\u003eThe main idea is presented in this PDF: \u003ca href=\"https://www.dcs.warwick.ac.uk/~hugh/TTM/TTM-2016-04-05.pdf\" rel=\"ugc\"\u003ehttps://www.dcs.warwick.ac.uk/~hugh/TTM/TTM-2016-04-05.pdf\u003c/a\u003e\u003c/p\u003e\n","description_plain":"The main idea is presented in this PDF: https://www.dcs.warwick.ac.uk/~hugh/TTM/TTM-2016-04-05.pdf","comments_url":"https://lobste.rs/s/ba02rh/third_manifesto_proposed_foundation_for","submitter_user":{"username":"jj5","created_at":"2020-04-23T04:25:37.000-05:00","is_admin":false,"about":"Hi there. I'm John. I'm a computer programmer from Australia with over 20 years commercial experience. I used to be a C# programmer in the Microsoft world but about 10 years ago I jumped ship and now I program mostly on the LAMP stack. I consider programming my craft and I endeavour to be as good at it as I possibly can be.","is_moderator":false,"karma":70,"avatar_url":"/avatars/jj5-100.png","invited_by_user":"gerikson","github_username":"jj5"},"tags":["databases"]},{"short_id":"0l57b2","short_id_url":"https://lobste.rs/s/0l57b2","created_at":"2022-05-28T08:02:38.000-05:00","title":"PACMAN: Attacking ARM Pointer Authentication with Speculative Execution","url":"https://people.csail.mit.edu/weontaek/pubs/PACMAN_ISCA22.pdf","score":3,"flags":1,"comment_count":3,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/0l57b2/pacman_attacking_arm_pointer","submitter_user":{"username":"lattera","created_at":"2014-05-30T07:30:38.000-05:00","is_admin":false,"about":"Cofounder of HardenedBSD, lover of most things opensource.","is_moderator":false,"karma":4850,"avatar_url":"/avatars/lattera-100.png","invited_by_user":"xmj","github_username":"lattera","twitter_username":"lattera"},"tags":["pdf","security"]},{"short_id":"730yaa","short_id_url":"https://lobste.rs/s/730yaa","created_at":"2022-05-28T07:50:16.000-05:00","title":"Literate APIs with Emacs and Org Mode","url":"https://www.kpassa.me/posts/literate2/","score":22,"flags":0,"comment_count":2,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/730yaa/literate_apis_with_emacs_org_mode","submitter_user":{"username":"schmudde","created_at":"2021-03-24T18:10:24.000-05:00","is_admin":false,"about":"Turing complete. ","is_moderator":false,"karma":158,"avatar_url":"/avatars/schmudde-100.png","invited_by_user":"JordiGH","github_username":"schmudde"},"tags":["emacs"]},{"short_id":"dfrvp3","short_id_url":"https://lobste.rs/s/dfrvp3","created_at":"2022-05-28T06:39:29.000-05:00","title":"clang-format considered harmful","url":"","score":8,"flags":2,"comment_count":37,"description":"\u003cp\u003eI don‚Äôt know of a good C++ code formatter, but clang-format is not one. It is a thing I don‚Äôt like about C++.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e1. Myths\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eFirst, I must dispel 4 oft-cited myths used to argue for uncritically slapping on a random coding standard.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eMyth 1: Any coding standard is as good as another.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eThere \u003cem\u003eis\u003c/em\u003e such a thing as practicality in coding standards. Before even contemplating controversial topics ‚Äì aesthetics, it‚Äôs not hard to think of aspects of code formatting that contribute to \u003ca href=\"https://en.wikipedia.org/wiki/Write_amplification\" rel=\"ugc\"\u003ewrite amplification\u003c/a\u003e ‚Äì how big a change becomes in the resulting diff ‚Äì that should be uncontroversial. Let‚Äôs get the basics right:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eEase of adding or removing an element at the end. This thing:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eXXX XXX = XXX::XXXXXXXXXXXXXX { X,\n                                Y }\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eReflow ripple effects: This thing, after inserting ‚Äúsomething‚Äù:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eXXX XXX = XXX::XXXXXXXXXXXXXX { \"something\",\n                                X, Y }\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eDependent indentation: This thing, after you renamed it (and forgot to reformat):\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eXXX XXX = XXX::XXXX { X,\n                                Y }\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eIndentation dependence: When changing the scope of a section of code causes the formatter to change strategy:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e{\n    XXX\n    XXX =\n        XXX::\n        XXXXX\n        { X, Y }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eHuman predictability: Does the formatter follow rules that a human with infinite experience can predict, or does it play chess with sums of weighted costs? In practical terms, must you run a formatter locally in order to write anything that CI will accept?\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThere exists a formatting that has none of these problems. I‚Äôm of course talking about the self-evident pythonic/rustic formatting (which probably has many more names):\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eXXX XXX = XXX::XXXXXXXXXXXXXX {\n    X,\n    Y,\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cem\u003eMyth 2: The most important thing is to have a coding standard and enforce it.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eI remember a time before clang-format:\nI would say that professional developers did at least as good of a job as clang-format to begin with.\nIn fact, in some ways better than any autoformatter could ever come up with, because the human knows best, such as which arguments are associated. Freedom of expression!\nThis openness to creativity made the conventions fluid, so that better ideas had a foothold.\u003c/p\u003e\n\u003cp\u003eIn contrast, with clang-format, I see good developers being passive and indifferent to details like trailing comma that are not at all insignificant to what clang-format will do.\u003c/p\u003e\n\u003cp\u003eIf the purpose of automatic formatting is to avoid style disputes in code review, it doesn‚Äôt work,\nbecause too few people know the importance it gives to trailing comma ‚Äì I have to nag people about it.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eMyth 3: It is possible to configure clang-format to a pythonic/rustic style.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eI have tried every config option. There is \u003ccode\u003eAlignAfterOpenBracket\u003c/code\u003e, but you have to do the rest yourself in terms of remembering trailing comma (which is only applicable in curly braces and not enforceable), forcing line breaks with line comments and liberal use of \u003ccode\u003e// clang-format off\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eMyth 4: It is always convenient for everyone to run the formatter.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eIf you haven‚Äôt noticed the trend, everything is wrapped in impenetrable all-encompassing dockerized CI-scripts that can‚Äôt just check a small change quickly.\u0026lt;/sarcasm\u0026gt;\u003c/p\u003e\n\u003cp\u003eIt doesn‚Äôt actually matter how convenient it is, because I don‚Äôt necessarily approve of what it does to my code ‚Äì I can‚Äôt run the formatter before I have committed my changes anyway. Then, I rewrite my code to comply if needed be. If revising one‚Äôs commit stack isn‚Äôt hard enough as it is, doing it with style changes into the mix is the worst.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e2. Properties of a good formatter\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSensible by default, or a sensible configuration (after the criteria above) must exist in its configuration space.\u003c/li\u003e\n\u003cli\u003eSlack: The human knows certain things better than the formatter, such as which arguments are associated, and may therefore have a preference for where to break the line if necessary. The formatter‚Äôs job is not to take this freedom of expression away. Its job is to satisfy a disjoint set of requirements. Therefore, it must allow more than one way to lay out the same code. Python formatters do a good job in this department.\u003c/li\u003e\n\u003cli\u003eHumanly predictable.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e3. So what‚Äôs wrong with clang-format in particular?\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eAll the above. If clang-format behaved like a python formatter or like rustfmt, you wouldn‚Äôt be reading this. Though I‚Äôm no fan of automatic formatting in general, other languages have it better.\u003c/p\u003e\n","description_plain":"I don't know of a good C++ code formatter, but clang-format is not one. It is a thing I don't like about C++.\r\n\r\n**1. Myths**\r\n\r\nFirst, I must dispel 4 oft-cited myths used to argue for uncritically slapping on a random coding standard.\r\n\r\n*Myth 1: Any coding standard is as good as another.*\r\n\r\nThere _is_ such a thing as practicality in coding standards. Before even contemplating controversial topics ‚Äì aesthetics, it's not hard to think of aspects of code formatting that contribute to [write amplification](https://en.wikipedia.org/wiki/Write_amplification) ‚Äì how big a change becomes in the resulting diff ‚Äì that should be uncontroversial. Let's get the basics right:\r\n\r\n* Ease of adding or removing an element at the end. This thing:\r\n\r\n    ```\r\n    XXX XXX = XXX::XXXXXXXXXXXXXX { X,\r\n                                    Y }\r\n    ```\r\n\r\n* Reflow ripple effects: This thing, after inserting \"something\":\r\n\r\n    ```\r\n    XXX XXX = XXX::XXXXXXXXXXXXXX { \"something\",\r\n                                    X, Y }\r\n    ```\r\n\r\n* Dependent indentation: This thing, after you renamed it (and forgot to reformat):\r\n\r\n    ```\r\n    XXX XXX = XXX::XXXX { X,\r\n                                    Y }\r\n    ```\r\n\r\n* Indentation dependence: When changing the scope of a section of code causes the formatter to change strategy:\r\n\r\n    ```\r\n    {\r\n        XXX\r\n        XXX =\r\n            XXX::\r\n            XXXXX\r\n            { X, Y }\r\n    }\r\n    ```\r\n\r\n* Human predictability: Does the formatter follow rules that a human with infinite experience can predict, or does it play chess with sums of weighted costs? In practical terms, must you run a formatter locally in order to write anything that CI will accept?\r\n\r\nThere exists a formatting that has none of these problems. I'm of course talking about the self-evident pythonic/rustic formatting (which probably has many more names):\r\n\r\n    XXX XXX = XXX::XXXXXXXXXXXXXX {\r\n        X,\r\n        Y,\r\n    }\r\n\r\n*Myth 2: The most important thing is to have a coding standard and enforce it.*\r\n\r\nI remember a time before clang-format:\r\nI would say that professional developers did at least as good of a job as clang-format to begin with.\r\nIn fact, in some ways better than any autoformatter could ever come up with, because the human knows best, such as which arguments are associated. Freedom of expression!\r\nThis openness to creativity made the conventions fluid, so that better ideas had a foothold.\r\n\r\nIn contrast, with clang-format, I see good developers being passive and indifferent to details like trailing comma that are not at all insignificant to what clang-format will do.\r\n\r\nIf the purpose of automatic formatting is to avoid style disputes in code review, it doesn't work,\r\nbecause too few people know the importance it gives to trailing comma ‚Äì I have to nag people about it.\r\n\r\n*Myth 3: It is possible to configure clang-format to a pythonic/rustic style.*\r\n\r\nI have tried every config option. There is `AlignAfterOpenBracket`, but you have to do the rest yourself in terms of remembering trailing comma (which is only applicable in curly braces and not enforceable), forcing line breaks with line comments and liberal use of `// clang-format off`.\r\n\r\n*Myth 4: It is always convenient for everyone to run the formatter.*\r\n\r\nIf you haven't noticed the trend, everything is wrapped in impenetrable all-encompassing dockerized CI-scripts that can't just check a small change quickly.\u0026lt;/sarcasm\u0026gt;\r\n\r\nIt doesn't actually matter how convenient it is, because I don't necessarily approve of what it does to my code ‚Äì I can't run the formatter before I have committed my changes anyway. Then, I rewrite my code to comply if needed be. If revising one's commit stack isn't hard enough as it is, doing it with style changes into the mix is the worst. \r\n\r\n**2. Properties of a good formatter**\r\n\r\n* Sensible by default, or a sensible configuration (after the criteria above) must exist in its configuration space.\r\n* Slack: The human knows certain things better than the formatter, such as which arguments are associated, and may therefore have a preference for where to break the line if necessary. The formatter's job is not to take this freedom of expression away. Its job is to satisfy a disjoint set of requirements. Therefore, it must allow more than one way to lay out the same code. Python formatters do a good job in this department.\r\n* Humanly predictable.\r\n\r\n**3. So what's wrong with clang-format in particular?**\r\n\r\nAll the above. If clang-format behaved like a python formatter or like rustfmt, you wouldn't be reading this. Though I'm no fan of automatic formatting in general, other languages have it better.","comments_url":"https://lobste.rs/s/dfrvp3/clang_format_considered_harmful","submitter_user":{"username":"anordal","created_at":"2017-08-17T01:45:52.000-05:00","is_admin":false,"about":"","is_moderator":false,"karma":681,"avatar_url":"/avatars/anordal-100.png","invited_by_user":"xyproto"},"tags":["c++","rant"]},{"short_id":"htpdbu","short_id_url":"https://lobste.rs/s/htpdbu","created_at":"2022-05-28T06:17:08.000-05:00","title":"Please Stop Using Grey Text","url":"https://tangledweb.xyz/please-stop-using-grey-text-3d3e71acfca8","score":32,"flags":1,"comment_count":17,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/htpdbu/please_stop_using_grey_text","submitter_user":{"username":"hedy","created_at":"2020-11-24T03:01:26.000-06:00","is_admin":false,"about":"Playing with some foss \u0026 terminal stuff\r\n\r\nWhat I'm wasting time on:\r\n1. CSS\r\n2. tui \r\n3. go\r\n4 flask\r\n\r\n[Verifying my OpenPGP key: openpgp4fpr:562DAB0963A00534B95C66E345B4B73EDF1304D9]","is_moderator":false,"karma":91,"avatar_url":"/avatars/hedy-100.png","invited_by_user":"gerikson","github_username":"hedyhli"},"tags":["a11y","design","web"]},{"short_id":"xfvtdh","short_id_url":"https://lobste.rs/s/xfvtdh","created_at":"2022-05-28T05:02:17.000-05:00","title":"Derw: hydrating the web language landscape, May 2022 status","url":"https://derw.substack.com/p/derw-hydrating-the-web-language-landscape","score":4,"flags":1,"comment_count":0,"description":"","description_plain":"","comments_url":"https://lobste.rs/s/xfvtdh/derw_hydrating_web_language_landscape","submitter_user":{"username":"eeue56","created_at":"2016-10-30T11:07:08.000-05:00","is_admin":false,"about":"Work at Schibsted. Working on [Derw](https://twitter.com/derwlang)","is_moderator":false,"karma":506,"avatar_url":"/avatars/eeue56-100.png","invited_by_user":"355E3B","github_username":"eeue56","twitter_username":"derwlang"},"tags":["elm"]}]